!function(A){function e(e){for(var n,t,r=e[0],a=e[1],o=e[2],i=0,d=[];i<r.length;i++)t=r[i],q[t]&&d.push(q[t][0]),q[t]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(A[n]=a[n]);for(x&&x(e);d.length;)d.shift()();return v.push.apply(v,o||[]),p()}function p(){for(var e,n=0;n<v.length;n++){for(var t=v[n],r=!0,a=1;a<t.length;a++){var o=t[a];0!==q[o]&&(r=!1)}r&&(v.splice(n--,1),e=z(z.s=t[0]))}return e}var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,n){if(!T[e]||!s[e])return;for(var t in s[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(I[t]=n[t]);0==--c&&0===l&&h()}(e,n),t&&t(e,n)};var o,r=!0,D="2adef1729b0aae10538c",n=1e4,N={},k=[],a=[];var i=[],E="idle";function H(e){E=e;for(var n=0;n<i.length;n++)i[n].call(null,e)}var d,I,P,c=0,l=0,g={},s={},T={};function F(e){return+e+""===e?+e:e}function u(e){if("idle"!==E)throw new Error("check() is only allowed in idle status");return r=e,H("check"),(o=n,o=o||1e4,new Promise(function(n,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var r=new XMLHttpRequest,a=z.p+""+D+".hot-update.json";r.open("GET",a,!0),r.timeout=o,r.send(null)}catch(e){return t(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)t(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)n();else if(200!==r.status&&304!==r.status)t(new Error("Manifest request to "+a+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(e){return void t(e)}n(e)}}})).then(function(e){if(!e)return H("idle"),null;s={},g={},T=e.c,P=e.h,H("prepare");var n=new Promise(function(e,n){d={resolve:e,reject:n}});for(var t in I={},q)f(t);return"prepare"===E&&0===l&&0===c&&h(),n});var o}function f(e){var n,t,r;T[e]?(s[e]=!0,c++,n=e,t=document.getElementsByTagName("head")[0],(r=document.createElement("script")).charset="utf-8",r.src=z.p+""+n+"."+D+".hot-update.js",t.appendChild(r)):g[e]=!0}function h(){H("ready");var n=d;if(d=null,n)if(r)Promise.resolve().then(function(){return m(r)}).then(function(e){n.resolve(e)},function(e){n.reject(e)});else{var e=[];for(var t in I)Object.prototype.hasOwnProperty.call(I,t)&&e.push(F(t));n.resolve(e)}}function m(t){if("ready"!==E)throw new Error("apply() is only allowed in ready status");var e,n,r,l,a;function o(e){for(var n=[e],t={},r=n.slice().map(function(e){return{chain:[e],id:e}});0<r.length;){var a=r.pop(),o=a.id,i=a.chain;if((l=U[o])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:o};if(l.hot._main)return{type:"unaccepted",chain:i,moduleId:o};for(var d=0;d<l.parents.length;d++){var p=l.parents[d],c=U[p];if(c){if(c.hot._declinedDependencies[o])return{type:"declined",chain:i.concat([p]),moduleId:o,parentId:p};-1===n.indexOf(p)&&(c.hot._acceptedDependencies[o]?(t[p]||(t[p]=[]),g(t[p],[o])):(delete t[p],n.push(p),r.push({chain:i.concat([p]),id:p})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function g(e,n){for(var t=0;t<n.length;t++){var r=n[t];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var i={},d=[],p={},c=function(){console.warn("[HMR] unexpected require("+u.moduleId+") to disposed module")};for(var s in I)if(Object.prototype.hasOwnProperty.call(I,s)){var u;a=F(s);var f=!1,h=!1,m=!1,v="";switch((u=I[s]?o(a):{type:"disposed",moduleId:s}).chain&&(v="\nUpdate propagation: "+u.chain.join(" -> ")),u.type){case"self-declined":t.onDeclined&&t.onDeclined(u),t.ignoreDeclined||(f=new Error("Aborted because of self decline: "+u.moduleId+v));break;case"declined":t.onDeclined&&t.onDeclined(u),t.ignoreDeclined||(f=new Error("Aborted because of declined dependency: "+u.moduleId+" in "+u.parentId+v));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(u),t.ignoreUnaccepted||(f=new Error("Aborted because "+a+" is not accepted"+v));break;case"accepted":t.onAccepted&&t.onAccepted(u),h=!0;break;case"disposed":t.onDisposed&&t.onDisposed(u),m=!0;break;default:throw new Error("Unexception type "+u.type)}if(f)return H("abort"),Promise.reject(f);if(h)for(a in p[a]=I[a],g(d,u.outdatedModules),u.outdatedDependencies)Object.prototype.hasOwnProperty.call(u.outdatedDependencies,a)&&(i[a]||(i[a]=[]),g(i[a],u.outdatedDependencies[a]));m&&(g(d,[u.moduleId]),p[a]=c)}var y,w=[];for(n=0;n<d.length;n++)a=d[n],U[a]&&U[a].hot._selfAccepted&&w.push({module:a,errorHandler:U[a].hot._selfAccepted});H("dispose"),Object.keys(T).forEach(function(e){!1===T[e]&&delete q[e]});for(var b,x,C=d.slice();0<C.length;)if(a=C.pop(),l=U[a]){var M={},B=l.hot._disposeHandlers;for(r=0;r<B.length;r++)(e=B[r])(M);for(N[a]=M,l.hot.active=!1,delete U[a],delete i[a],r=0;r<l.children.length;r++){var O=U[l.children[r]];O&&(0<=(y=O.parents.indexOf(a))&&O.parents.splice(y,1))}}for(a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&(l=U[a]))for(x=i[a],r=0;r<x.length;r++)b=x[r],0<=(y=l.children.indexOf(b))&&l.children.splice(y,1);for(a in H("apply"),D=P,p)Object.prototype.hasOwnProperty.call(p,a)&&(A[a]=p[a]);var j=null;for(a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&(l=U[a])){x=i[a];var S=[];for(n=0;n<x.length;n++)if(b=x[n],e=l.hot._acceptedDependencies[b]){if(-1!==S.indexOf(e))continue;S.push(e)}for(n=0;n<S.length;n++){e=S[n];try{e(x)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:x[n],error:e}),t.ignoreErrored||j||(j=e)}}}for(n=0;n<w.length;n++){var _=w[n];a=_.module,k=[a];try{z(a)}catch(n){if("function"==typeof _.errorHandler)try{_.errorHandler(n)}catch(e){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:a,error:e,originalError:n}),t.ignoreErrored||j||(j=e),j||(j=n)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:a,error:n}),t.ignoreErrored||j||(j=n)}}return j?(H("fail"),Promise.reject(j)):(H("idle"),new Promise(function(e){e(d)}))}var U={},q={1:0,0:0},v=[];function z(e){if(U[e])return U[e].exports;var n,r,t=U[e]={i:e,l:!1,exports:{},hot:(n=e,r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==n,active:!0,accept:function(e,n){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._acceptedDependencies[e[t]]=n||function(){};else r._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._declinedDependencies[e[n]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=r._disposeHandlers.indexOf(e);0<=n&&r._disposeHandlers.splice(n,1)},check:u,apply:m,status:function(e){if(!e)return E;i.push(e)},addStatusHandler:function(e){i.push(e)},removeStatusHandler:function(e){var n=i.indexOf(e);0<=n&&i.splice(n,1)},data:N[n]},o=void 0,r),parents:(a=k,k=[],a),children:[]};return A[e].call(t.exports,t,t.exports,function(n){var t=U[n];if(!t)return z;var r=function(e){return t.hot.active?(U[e]?-1===U[e].parents.indexOf(n)&&U[e].parents.push(n):(k=[n],o=e),-1===t.children.indexOf(e)&&t.children.push(e)):(console.warn("[HMR] unexpected require("+e+") from disposed module "+n),k=[]),z(e)},e=function(n){return{configurable:!0,enumerable:!0,get:function(){return z[n]},set:function(e){z[n]=e}}};for(var a in z)Object.prototype.hasOwnProperty.call(z,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(r,a,e(a));return r.e=function(e){return"ready"===E&&H("prepare"),l++,z.e(e).then(n,function(e){throw n(),e});function n(){l--,"prepare"===E&&(g[e]||f(e),0===l&&0===c&&h())}},r.t=function(e,n){return 1&n&&(e=r(e)),z.t(e,-2&n)},r}(e)),t.l=!0,t.exports}z.m=A,z.c=U,z.d=function(e,n,t){z.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},z.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},z.t=function(n,e){if(1&e&&(n=z(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(z.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)z.d(t,r,function(e){return n[e]}.bind(null,r));return t},z.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return z.d(n,"a",n),n},z.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},z.p="",z.h=function(){return D};var y=window.webpackJsonp=window.webpackJsonp||[],w=y.push.bind(y);y.push=e,y=y.slice();for(var b=0;b<y.length;b++)e(y[b]);var x=w;v.push([92,2]),p()}({22:function(e,n,t){"use strict";t.r(n);var r={pi:Math.PI,sin:Math.sin,abs:Math.abs,xMod:function(n,t){return function(e){return n(e/t)}},yMod:function(n,t,r){return function(e){return t*n(e)+r}},xyMod:function(e,n,t,r){return t=t||1,n=n||1,r=r||0,this.yMod(this.xMod(e,n),t,r)},createSteps:function(n,t,r,a){a=a||!1;var o=0;return{perAdd:function(e){return n((o+=e=e||r)<=t?o:a?0==o%t?t:o%t:t)}}},ttFun:function(e){return 0<=e&&e<1?e:1<=e&&e<2?2-e:2<=e&&e<3?e-2:3<=e&&e<4?4-e:0}};n.default=r},92:function(e,n,t){"use strict";t.r(n);t(93),t(95);var r=t(91),a=t.n(r),d=t(3);t(198),t(22);function o(){var e=Math.min(window.innerWidth/c,window.innerHeight/l);f.view.style.width=Math.ceil(c*e)+"px",f.view.style.height=Math.ceil(l*e)+"px";var n=c/l;window.innerWidth/window.innerHeight>c/l?(f.view.style.top=0,f.view.style.left=(window.innerWidth-window.innerHeight*n)/2+"px"):(f.view.style.left=0,f.view.style.top=(window.innerHeight-window.innerWidth/n)/2+"px")}a.a.load({custom:{families:["monogram"]}});var s,p,c=750,l=1200,i=1,g=38,u=function(){},f=new d.Application({width:c,height:l,backgroundColor:16777215});f.view.style.position="absolute",f.view.style.display="block",f.ticker.add(function(e){u(e)}),document.body.appendChild(f.view),o();var h=new d.Container,m=new d.Container,v=new d.Container;function y(n){var o=n.characterAnimation.data,a={bgImg:function(){return new d.Sprite(n.background.texture)},viewBtnMC:function(){for(var e=o["button.json"].viewBtn,n=[],t=0;t<e.length;t++)n.push(d.Texture.fromFrame(e[t]));var r=new d.extras.AnimatedSprite(n);return r.x=c-r.width/2-12,r.y=r.height/2+892,r.anchor.set(.5),r.gotoAndStop(0),r.interactive=!0,r.buttonMode=!0,r.on("pointerdown",function(){f.stage.getChildByName("stage1").visible=!1,f.stage.getChildByName("stage2").visible=!0}),r},soundBtnMC:function(){for(var e=o["button.json"].soundBtn,n=[],t=0;t<e.length;t++)n.push(d.Texture.fromFrame(e[t]));var r=new d.extras.AnimatedSprite(n);r.x=c-r.width/2-30,r.y=r.height/2+30,r.anchor.set(.5),r.gotoAndStop(0),r.interactive=!0,r.buttonMode=!0,r.scale.x=r.scale.y=1;var a=!1;return r.on("pointerdown",function(){a=a?(r.gotoAndStop(0),s&&s.play(),!1):(r.gotoAndStop(1),s&&s.stop(),!0)}),r},nextBtnMC:function(){for(var e=o["button.json"].viewBtn,n=[],t=0;t<e.length;t++)n.push(d.Texture.fromFrame(e[t]));var r=new d.extras.AnimatedSprite(n);return r.x=c-r.width/2-20,r.y=l-r.height/2-20,r.anchor.set(.5),r.gotoAndStop(2),r.interactive=!0,r.buttonMode=!0,r.scale.x=r.scale.y=1,r.on("pointerdown",function(){i++,v.getChildByName("nextBtn").visible=!(g<=i)&&(v.getChildByName("prevBtn").visible=!0);var e=v.getChildByName("book");e.removeChildren(0,e.children.length),e.addChild(a.pageMC(i))}),r.name="nextBtn",r},prevBtnMC:function(){for(var e=o["button.json"].viewBtn,n=[],t=0;t<e.length;t++)n.push(d.Texture.fromFrame(e[t]));var r=new d.extras.AnimatedSprite(n);return r.x=r.width/2+20,r.y=l-r.height/2-20,r.anchor.set(.5),r.gotoAndStop(1),r.interactive=!0,r.buttonMode=!0,r.scale.x=r.scale.y=1,r.on("pointerdown",function(){--i<=1?v.getChildByName("prevBtn").visible=!1:(v.getChildByName("prevBtn").visible=!0,v.getChildByName("nextBtn").visible=!0);var e=v.getChildByName("book");e.removeChildren(0,e.children.length),e.addChild(a.pageMC(i))}),r.name="prevBtn",r.visible=!1,r},btn:function(){var e=new d.Text("游戏开始",{fontSize:60,fill:0,align:"left"});return e.anchor.set(.5),e.x=c/2,e.y=200,e.interactive=!0,e.buttonMode=!0,e},page01Img:function(){var e=new d.Sprite(n.page01.texture);return e.name="page01",e},page02Img:function(){var e=new d.Sprite(n.page02.texture);return e.name="page02",e},bookMC:function(){var e=new d.Container;return e.name="book",e.addChild(a.pageMC(1)),e},pageMC:function(e){var n=d.Sprite.fromImage("page"+e);return n.name="page"+e,n},pageNumberMC:function(){var e=new d.Text(i+"/"+g,{fontSize:30,fill:12802351,align:"left",fontFamily:"monogram"});return e.anchor.set(.5),e.x=c/2,e.y=1100,e.interactive=!0,e.buttonMode=!0,e.name="pageNumber",e},homeBtnMC:function(){var e=d.Sprite.fromImage("icon-exit.png");e.x=e.width/2+30,e.y=e.height/2+30,e.anchor.set(.5),e.interactive=!0,e.buttonMode=!0,e.scale.x=e.scale.y=1;return e.on("pointerdown",function(){f.stage.getChildByName("stage1").visible=!0,f.stage.getChildByName("stage2").visible=!1,i=1,v.getChildByName("prevBtn").visible=!1,v.getChildByName("nextBtn").visible=!0;var e=v.getChildByName("book");e.removeChildren(0,e.children.length),e.addChild(a.pageMC(i))}),e}};return a}function w(e){h.getChildByName("progressText").text=p}function b(e){v.getChildByName("pageNumber").text=i+" / "+g}function x(e,n){(s=n.bgmSound.sound)&&s.play();var t,r,a,o,i,d,p,c,l,g=y(n).soundBtnMC;t=y(n),r=t.bgImg,t.soundBtnMC,a=t.viewBtnMC,t.page01Img,m.removeChildren(0,m.children.length),m.addChild(r(),a()),o=y(n),i=o.prevBtnMC,d=o.nextBtnMC,o.soundBtnMC,p=o.bookMC,o.pageMC,c=o.pageNumberMC,l=o.homeBtnMC,v.removeChildren(0,v.children.length),v.addChild(p(),d(),i(),c(),l()),f.stage.removeChild(f.stage.getChildByName("stage0")),f.stage.addChild(m,v,g()),f.stage.getChildByName("stage1").visible=!0,f.stage.getChildByName("stage2").visible=!1,u=b}m.name="stage1",v.name="stage2",d.loader.add("characterAnimation","./img/characterAnimation.json").add("background","./img/bg.png").add("loadingBox","./img/loader.json").load(function(e,n){!function(e){for(var n=e.characterAnimation.data["loadingBox.json"].loadingBox,t=[],r=0;r<n.length;r++)t.push(d.Texture.fromFrame(n[r]));var a=new d.extras.AnimatedSprite(t);a.name="loadingBox",a.x=c/2,a.y=l/2,a.anchor.set(.5),a.animationSpeed=.25,a.play();var o=new d.Text(p,{fontSize:60,fill:0,align:"left"});o.anchor.set(.5),o.x=c/2,o.y=700,o.name="progressText";var i=new d.Sprite(e.background.texture);i.height=l,h.name="stage0",h.removeChildren(0,h.children.length),h.addChild(i,a,o),u=w}(n),f.stage.addChild(h),d.loader.add("bgmSound","./sounds/bgm.mp3").add("btn","./img/btn.json").add("buttons","./img/buttons.json").add("page1","./img/page1.png").add("page2","./img/page2.png").add("page3","./img/page3.png").add("page4","./img/page4.png").add("page5","./img/page5.png").add("page6","./img/page6.png").add("page7","./img/page7.png").add("page8","./img/page8.png").add("page9","./img/page9.png").add("page10","./img/page10.png").add("page11","./img/page11.png").add("page12","./img/page12.png").add("page13","./img/page13.png").add("page14","./img/page14.png").add("page15","./img/page15.png").add("page16","./img/page16.png").add("page17","./img/page17.png").add("page18","./img/page18.png").add("page19","./img/page19.png").add("page20","./img/page20.png").add("page21","./img/page21.png").add("page22","./img/page22.png").add("page23","./img/page23.png").add("page24","./img/page24.png").add("page25","./img/page25.png").add("page26","./img/page26.png").add("page27","./img/page27.png").add("page28","./img/page28.png").add("page29","./img/page29.png").add("page30","./img/page30.png").add("page31","./img/page31.png").add("page32","./img/page32.png").add("page33","./img/page33.png").add("page34","./img/page34.png").add("page35","./img/page35.png").add("page36","./img/page36.png").add("page37","./img/page37.png").add("page38","./img/page38.png").load(x).onProgress.add(function(e,n){p="Loading..."+Math.round(e.progress)+"%"})}),window.addEventListener("resize",o),console.log("=======>")},93:function(e,n,t){},95:function(e,n,t){}});